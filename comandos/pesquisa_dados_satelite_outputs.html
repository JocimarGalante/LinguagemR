<!DOCTYPE html><html><head>
      <title>pesquisa_dados_satelite_outputs</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="comandos-r---pesquisa-com-dados-de-satélite-satellite">Comandos R - Pesquisa com Dados de Satélite (Satellite) </h1>
<p>Relação dos comandos executados no script e suas respectivas saídas</p>
<p>OBS: Quando a saída for <code>N/A</code> significa que o comando não gerou um output</p>
<hr>
<p>→ comando</p>
<pre data-role="codeBlock" data-info="r" class="language-r r"><code>mirror <span class="token operator">&lt;-</span> <span class="token string">"cran-r.c3sl.ufpr.br"</span>
options<span class="token punctuation">(</span>repos <span class="token operator">=</span> mirror<span class="token punctuation">)</span>

<span class="token comment"># Instale o pacote mlbench se ainda não o tiver instalado</span>
install.packages<span class="token punctuation">(</span><span class="token string">"mlbench"</span><span class="token punctuation">)</span>

<span class="token comment"># Carregue o pacote</span>
library<span class="token punctuation">(</span>mlbench<span class="token punctuation">)</span>
</code></pre><p>← saída</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>tentando a URL 'cran-r.c3sl.ufpr.br/bin/macosx/big-sur-arm64/contrib/4.3/mlbench_2.1-3.1.tgz'
Content type 'application/x-gzip' length 1051850 bytes (1.0 MB)
==================================================
downloaded 1.0 MB


The downloaded binary packages are in
	/var/folders/40/p6_z3q455bz4wy3rkbmlnmp40000gn/T//RtmpEm2yFz/downloaded_packages
</code></pre><br>
→ comando
<pre data-role="codeBlock" data-info="r" class="language-r r"><code><span class="token comment"># 1- Carregue a base de dados Satellite</span>
data<span class="token punctuation">(</span>Satellite<span class="token punctuation">)</span>

<span class="token comment"># Visualize a estrutura da base de dados</span>
str<span class="token punctuation">(</span>Satellite<span class="token punctuation">)</span>
</code></pre><p>← saída</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>'data.frame':	6435 obs. of  37 variables:
 $ x.1    : num  92 84 84 80 84 80 76 76 76 76 ...
 $ x.2    : num  115 102 102 102 94 94 102 102 89 94 ...
 $ x.3    : num  120 106 102 102 102 98 106 106 98 98 ...
 $ x.4    : num  94 79 83 79 79 76 83 87 76 76 ...
 $ x.5    : num  84 84 80 84 80 80 76 80 76 76 ...
 $ x.6    : num  102 102 102 94 94 102 102 98 94 98 ...
 $ x.7    : num  106 102 102 102 98 102 106 106 98 102 ...
 $ x.8    : num  79 83 79 79 76 79 87 79 76 72 ...
 $ x.9    : num  84 80 84 80 80 76 80 76 76 76 ...
 $ x.10   : num  102 102 94 94 102 102 98 94 98 94 ...
 $ x.11   : num  102 102 102 98 102 102 106 102 102 90 ...
 $ x.12   : num  83 79 79 76 79 79 79 76 72 76 ...
 $ x.13   : num  101 92 84 84 84 76 80 80 80 76 ...
 $ x.14   : num  126 112 103 99 99 99 107 112 95 91 ...
 $ x.15   : num  133 118 104 104 104 104 118 118 104 104 ...
 $ x.16   : num  103 85 81 78 81 81 88 88 74 74 ...
 $ x.17   : num  92 84 84 84 76 76 80 80 76 76 ...
 $ x.18   : num  112 103 99 99 99 99 112 107 91 95 ...
 $ x.19   : num  118 104 104 104 104 108 118 113 104 100 ...
 $ x.20   : num  85 81 78 81 81 85 88 85 74 78 ...
 $ x.21   : num  84 84 84 76 76 76 80 80 76 76 ...
 $ x.22   : num  103 99 99 99 99 103 107 95 95 91 ...
 $ x.23   : num  104 104 104 104 108 118 113 100 100 100 ...
 $ x.24   : num  81 78 81 81 85 88 85 78 78 74 ...
 $ x.25   : num  102 88 84 84 84 84 79 79 75 75 ...
 $ x.26   : num  126 121 107 99 99 103 107 103 91 91 ...
 $ x.27   : num  134 128 113 104 104 104 113 104 96 96 ...
 $ x.28   : num  104 100 87 79 79 79 87 83 75 71 ...
 $ x.29   : num  88 84 84 84 84 79 79 79 75 79 ...
 $ x.30   : num  121 107 99 99 103 107 103 103 91 87 ...
 $ x.31   : num  128 113 104 104 104 109 104 104 96 93 ...
 $ x.32   : num  100 87 79 79 79 87 83 79 71 71 ...
 $ x.33   : num  84 84 84 84 79 79 79 79 79 79 ...
 $ x.34   : num  107 99 99 103 107 107 103 95 87 87 ...
 $ x.35   : num  113 104 104 104 109 109 104 100 93 93 ...
 $ x.36   : num  87 79 79 79 87 87 79 79 71 67 ...
 $ classes: Factor w/ 6 levels "red soil","cotton crop",..: 3 3 3 3 3 3 3 3 4 4 ...
</code></pre><br>
→ comando
<pre data-role="codeBlock" data-info="r" class="language-r r"><code><span class="token comment"># 2. Crie 2 partições contendo 80% para treino e 20% para teste</span>
<span class="token comment"># Instale os pacotes necessários se ainda não os tiver instalado</span>
install.packages<span class="token punctuation">(</span><span class="token string">"caret"</span><span class="token punctuation">)</span>

<span class="token comment"># Carregue o pacote</span>
library<span class="token punctuation">(</span>caret<span class="token punctuation">)</span>

<span class="token comment"># Defina a semente para reprodução dos resultados</span>
set.seed<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>

<span class="token comment"># Crie a partição</span>
particao <span class="token operator">&lt;-</span> createDataPartition<span class="token punctuation">(</span>Satellite<span class="token operator">$</span>classes<span class="token punctuation">,</span> p <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">,</span> list <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>

<span class="token comment"># Separe os dados de treinamento e teste</span>
dados_treino <span class="token operator">&lt;-</span> Satellite<span class="token punctuation">[</span>particao<span class="token punctuation">,</span> <span class="token punctuation">]</span>
dados_teste <span class="token operator">&lt;-</span> Satellite<span class="token punctuation">[</span><span class="token operator">-</span>particao<span class="token punctuation">,</span> <span class="token punctuation">]</span>

<span class="token comment"># Verifique o tamanho dos dados de treinamento e teste</span>
print<span class="token punctuation">(</span>paste<span class="token punctuation">(</span><span class="token string">"Tamanho dos dados de treinamento:"</span><span class="token punctuation">,</span> nrow<span class="token punctuation">(</span>dados_treino<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
print<span class="token punctuation">(</span>paste<span class="token punctuation">(</span><span class="token string">"Tamanho dos dados de teste:"</span><span class="token punctuation">,</span> nrow<span class="token punctuation">(</span>dados_teste<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><p>← saída</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>tentando a URL 'cran-r.c3sl.ufpr.br/bin/macosx/big-sur-arm64/contrib/4.3/caret_6.0-94.tgz'
Content type 'application/x-gzip' length 3586369 bytes (3.4 MB)
==================================================
downloaded 3.4 MB


The downloaded binary packages are in
	/var/folders/40/p6_z3q455bz4wy3rkbmlnmp40000gn/T//RtmpEm2yFz/downloaded_packages

Carregando pacotes exigidos: ggplot2
Keep up to date with changes at https://tidyverse.org/blog/
Carregando pacotes exigidos: lattice

[1] "Tamanho dos dados de treinamento: 5151"
[1] "Tamanho dos dados de teste: 1284"
</code></pre><br>
→ comando
<pre data-role="codeBlock" data-info="r" class="language-r r"><code><span class="token comment"># 3- Treine modelos RandomForest, SVM e RNA para predição destes dados.</span>
install.packages<span class="token punctuation">(</span><span class="token string">"neuralnet"</span><span class="token punctuation">)</span>
<span class="token comment"># Carregue os pacotes necessários</span>
library<span class="token punctuation">(</span>randomForest<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>e1071<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>neuralnet<span class="token punctuation">)</span>

<span class="token comment"># 3.1 Treinamento do modelo Random Forest</span>
modelo_rf <span class="token operator">&lt;-</span> randomForest<span class="token punctuation">(</span>classes <span class="token operator">~</span> .<span class="token punctuation">,</span> data <span class="token operator">=</span> dados_treino<span class="token punctuation">)</span>

<span class="token comment"># 3.2 Treinamento do modelo SVM</span>
modelo_svm <span class="token operator">&lt;-</span> svm<span class="token punctuation">(</span>classes <span class="token operator">~</span> .<span class="token punctuation">,</span> data <span class="token operator">=</span> dados_treino<span class="token punctuation">)</span>

<span class="token comment"># 3.3 Treinamento do modelo RNA</span>
modelo_rna <span class="token operator">&lt;-</span> neuralnet<span class="token punctuation">(</span>classes <span class="token operator">~</span> .<span class="token punctuation">,</span> data <span class="token operator">=</span> dados_treino<span class="token punctuation">,</span> hidden <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> linear.output <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>

<span class="token comment"># Exiba os modelos treinados</span>
print<span class="token punctuation">(</span>modelo_rf<span class="token punctuation">)</span>
print<span class="token punctuation">(</span>modelo_svm<span class="token punctuation">)</span>
print<span class="token punctuation">(</span>modelo_rna<span class="token punctuation">)</span>
</code></pre><p>← saída</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>tentando a URL 'cran-r.c3sl.ufpr.br/bin/macosx/big-sur-arm64/contrib/4.3/neuralnet_1.44.2.tgz'
Content type 'application/x-gzip' length 122191 bytes (119 KB)
==================================================
downloaded 119 KB


The downloaded binary packages are in
	/var/folders/40/p6_z3q455bz4wy3rkbmlnmp40000gn/T//RtmpEm2yFz/downloaded_packages

randomForest 4.7-1.1
Type rfNews() to see new features/changes/bug fixes.

Attaching package: ‘randomForest’

The following object is masked from ‘package:ggplot2’:

    margin

Call:
 randomForest(formula = classes ~ ., data = dados_treino)
               Type of random forest: classification
                     Number of trees: 500
No. of variables tried at each split: 6

        OOB estimate of  error rate: 8.66%
Confusion matrix:
                    red soil cotton crop grey soil damp grey soil
red soil                1206           4        13              0
cotton crop                0         545         1              5
grey soil                  8           1      1044             23
damp grey soil             5           4        94            293
vegetation stubble        22           5         2              3
very damp grey soil        0           0        20             55
                    vegetation stubble very damp grey soil class.error
red soil                             4                   0  0.01711491
cotton crop                          7                   5  0.03197158
grey soil                            2                   9  0.03955842
damp grey soil                       4                 101  0.41516966
vegetation stubble                 509                  25  0.10070671
very damp grey soil                 24                1108  0.08202154


Call:
svm(formula = classes ~ ., data = dados_treino)


Parameters:
   SVM-Type:  C-classification
 SVM-Kernel:  radial
       cost:  1

Number of Support Vectors:  1670

$call
neuralnet(formula = classes ~ ., data = dados_treino, hidden = c(5,
    2), linear.output = FALSE)

$response
     grey soil damp grey soil vegetation stubble very damp grey soil
1        FALSE          FALSE               TRUE               FALSE
2        FALSE          FALSE               TRUE               FALSE
3        FALSE          FALSE               TRUE               FALSE
4        FALSE          FALSE               TRUE               FALSE
5        FALSE          FALSE               TRUE               FALSE
6        FALSE          FALSE               TRUE               FALSE
7        FALSE          FALSE               TRUE               FALSE
8        FALSE           TRUE              FALSE               FALSE
9        FALSE           TRUE              FALSE               FALSE
10       FALSE           TRUE              FALSE               FALSE
11       FALSE           TRUE              FALSE               FALSE
12       FALSE           TRUE              FALSE               FALSE
13       FALSE           TRUE              FALSE               FALSE
14       FALSE           TRUE              FALSE               FALSE
15       FALSE          FALSE               TRUE               FALSE
16       FALSE          FALSE               TRUE               FALSE
...

A saída ao executar o print do modelo_rna é extremamente longa.
Portanto, somente o começo da saída foi adicionada a este documento
</code></pre><br>
→ comando
<pre data-role="codeBlock" data-info="r" class="language-r r"><code><span class="token comment"># 4. Escolha o melhor modelo com base em suas matrizes de confusão.</span>
<span class="token comment"># Carregue o pacote 'caret' para calcular a matriz de confusão</span>
library<span class="token punctuation">(</span>caret<span class="token punctuation">)</span>

<span class="token comment"># Função para calcular métricas de desempenho</span>
calcular_metricas <span class="token operator">&lt;-</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span>matriz_confusao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment"># Precisão (precision)</span>
  precisao <span class="token operator">&lt;-</span> diag<span class="token punctuation">(</span>matriz_confusao<span class="token punctuation">)</span> <span class="token operator">/</span> colSums<span class="token punctuation">(</span>matriz_confusao<span class="token punctuation">)</span>

  <span class="token comment"># Recall</span>
  recall <span class="token operator">&lt;-</span> diag<span class="token punctuation">(</span>matriz_confusao<span class="token punctuation">)</span> <span class="token operator">/</span> rowSums<span class="token punctuation">(</span>matriz_confusao<span class="token punctuation">)</span>

  <span class="token comment"># F1-score</span>
  f1_score <span class="token operator">&lt;-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span>precisao <span class="token operator">*</span> recall<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>precisao <span class="token operator">+</span> recall<span class="token punctuation">)</span>

  <span class="token comment"># Retornar as métricas</span>
  return<span class="token punctuation">(</span>data.frame<span class="token punctuation">(</span>precisao <span class="token operator">=</span> precisao<span class="token punctuation">,</span> recall <span class="token operator">=</span> recall<span class="token punctuation">,</span> f1_score <span class="token operator">=</span> f1_score<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment"># Função para imprimir as métricas</span>
imprimir_metricas <span class="token operator">&lt;-</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span>nome_modelo<span class="token punctuation">,</span> matriz_confusao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cat<span class="token punctuation">(</span><span class="token string">"\nModelo:"</span><span class="token punctuation">,</span> nome_modelo<span class="token punctuation">,</span> <span class="token string">"\n"</span><span class="token punctuation">)</span>
  print<span class="token punctuation">(</span>calcular_metricas<span class="token punctuation">(</span>matriz_confusao<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment"># Função para plotar a matriz de confusão</span>
plotar_matriz_confusao <span class="token operator">&lt;-</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span>nome_modelo<span class="token punctuation">,</span> matriz_confusao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  confusionMatrix<span class="token punctuation">(</span>matriz_confusao<span class="token punctuation">,</span> main <span class="token operator">=</span> nome_modelo<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>← saída</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>N/A
</code></pre><br>
→ comando
<pre data-role="codeBlock" data-info="r" class="language-r r"><code><span class="token comment"># Prever os rótulos usando cada modelo</span>
predicoes_rf <span class="token operator">&lt;-</span> predict<span class="token punctuation">(</span>modelo_rf<span class="token punctuation">,</span> newdata <span class="token operator">=</span> dados_teste<span class="token punctuation">)</span>
predicoes_svm <span class="token operator">&lt;-</span> predict<span class="token punctuation">(</span>modelo_svm<span class="token punctuation">,</span> newdata <span class="token operator">=</span> dados_teste<span class="token punctuation">)</span>
predicoes_rna <span class="token operator">&lt;-</span> predict<span class="token punctuation">(</span>modelo_rna<span class="token punctuation">,</span> newdata <span class="token operator">=</span> dados_teste<span class="token punctuation">)</span>

<span class="token comment"># Prever as probabilidades usando a RNA</span>
probabilidades_rna <span class="token operator">&lt;-</span> predict<span class="token punctuation">(</span>modelo_rna<span class="token punctuation">,</span> newdata <span class="token operator">=</span> dados_teste<span class="token punctuation">)</span>

<span class="token comment"># Obter os nomes das classes</span>
nomes_classes <span class="token operator">&lt;-</span> levels<span class="token punctuation">(</span>dados_teste<span class="token operator">$</span>classes<span class="token punctuation">)</span>

<span class="token comment"># Transformar probabilidades em rótulos de classe</span>
predicoes_rna <span class="token operator">&lt;-</span> apply<span class="token punctuation">(</span>probabilidades_rna<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> nomes_classes<span class="token punctuation">[</span>which.max<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># Converter as predições em fatores</span>
predicoes_rna <span class="token operator">&lt;-</span> factor<span class="token punctuation">(</span>predicoes_rna<span class="token punctuation">,</span> levels <span class="token operator">=</span> nomes_classes<span class="token punctuation">)</span>
</code></pre><p>← saída</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>N/A
</code></pre><br>
→ comando
<pre data-role="codeBlock" data-info="r" class="language-r r"><code><span class="token comment"># Calcular a matriz de confusão para cada modelo</span>
matriz_confusao_rf <span class="token operator">&lt;-</span> confusionMatrix<span class="token punctuation">(</span>predicoes_rf<span class="token punctuation">,</span> dados_teste<span class="token operator">$</span>classes<span class="token punctuation">)</span>
matriz_confusao_svm <span class="token operator">&lt;-</span> confusionMatrix<span class="token punctuation">(</span>predicoes_svm<span class="token punctuation">,</span> dados_teste<span class="token operator">$</span>classes<span class="token punctuation">)</span>
matriz_confusao_rna <span class="token operator">&lt;-</span> confusionMatrix<span class="token punctuation">(</span>predicoes_rna<span class="token punctuation">,</span> dados_teste<span class="token operator">$</span>classes<span class="token punctuation">)</span>

<span class="token comment"># Imprimir as métricas de desempenho para cada modelo</span>
imprimir_metricas<span class="token punctuation">(</span><span class="token string">"Random Forest"</span><span class="token punctuation">,</span> matriz_confusao_rf<span class="token operator">$</span>table<span class="token punctuation">)</span>
imprimir_metricas<span class="token punctuation">(</span><span class="token string">"SVM"</span><span class="token punctuation">,</span> matriz_confusao_svm<span class="token operator">$</span>table<span class="token punctuation">)</span>
imprimir_metricas<span class="token punctuation">(</span><span class="token string">"RNA"</span><span class="token punctuation">,</span> matriz_confusao_rna<span class="token operator">$</span>table<span class="token punctuation">)</span>

<span class="token comment"># Plotar as matrizes de confusão</span>
plotar_matriz_confusao<span class="token punctuation">(</span><span class="token string">"Random Forest"</span><span class="token punctuation">,</span> matriz_confusao_rf<span class="token operator">$</span>table<span class="token punctuation">)</span>
plotar_matriz_confusao<span class="token punctuation">(</span><span class="token string">"SVM"</span><span class="token punctuation">,</span> matriz_confusao_svm<span class="token operator">$</span>table<span class="token punctuation">)</span>
plotar_matriz_confusao<span class="token punctuation">(</span><span class="token string">"RNA"</span><span class="token punctuation">,</span> matriz_confusao_rna<span class="token operator">$</span>table<span class="token punctuation">)</span>
</code></pre><p>← saída</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>Modelo: Random Forest
                     precisao    recall  f1_score
red soil            0.9934641 0.9712460 0.9822294
cotton crop         0.9857143 0.9857143 0.9857143
grey soil           0.9667897 0.9065744 0.9357143
damp grey soil      0.7200000 0.8181818 0.7659574
vegetation stubble  0.8510638 0.9600000 0.9022556
very damp grey soil 0.9169435 0.8990228 0.9078947

Modelo: SVM
                     precisao    recall  f1_score
red soil            0.9934641 0.9589905 0.9759230
cotton crop         0.9785714 0.9785714 0.9785714
grey soil           0.9667897 0.8704319 0.9160839
damp grey soil      0.6320000 0.7117117 0.6694915
vegetation stubble  0.8085106 0.9500000 0.8735632
very damp grey soil 0.8704319 0.8881356 0.8791946

Modelo: RNA
                    precisao     recall  f1_score
red soil                   0        NaN       NaN
cotton crop                0        NaN       NaN
grey soil                  0        NaN       NaN
damp grey soil             1 0.09735202 0.1774308
vegetation stubble         0        NaN       NaN
very damp grey soil        0        NaN       NaN
</code></pre><br>
→ comando
<pre data-role="codeBlock" data-info="r" class="language-r r"><code><span class="token comment"># 5- Indique qual modelo dá o melhor o resultado e a métrica u2lizada</span>
<span class="token comment"># Extrair os valores de F1-score para cada modelo</span>
f1_rf <span class="token operator">&lt;-</span> calcular_metricas<span class="token punctuation">(</span>matriz_confusao_rf<span class="token operator">$</span>table<span class="token punctuation">)</span><span class="token operator">$</span>f1_score
f1_svm <span class="token operator">&lt;-</span> calcular_metricas<span class="token punctuation">(</span>matriz_confusao_svm<span class="token operator">$</span>table<span class="token punctuation">)</span><span class="token operator">$</span>f1_score
f1_rna <span class="token operator">&lt;-</span> calcular_metricas<span class="token punctuation">(</span>matriz_confusao_rna<span class="token operator">$</span>table<span class="token punctuation">)</span><span class="token operator">$</span>f1_score

<span class="token comment"># Criar um data frame com os valores de F1-score</span>
df_f1 <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>Modelo <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"Random Forest"</span><span class="token punctuation">,</span> <span class="token string">"SVM"</span><span class="token punctuation">,</span> <span class="token string">"RNA"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    F1_Score <span class="token operator">=</span> c<span class="token punctuation">(</span>f1_rf<span class="token punctuation">,</span> f1_svm<span class="token punctuation">,</span> f1_rna<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Ordenar o data frame pelo F1-score</span>
df_f1 <span class="token operator">&lt;-</span> df_f1<span class="token punctuation">[</span>order<span class="token punctuation">(</span>df_f1<span class="token operator">$</span>F1_Score<span class="token punctuation">,</span> decreasing <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">]</span>

<span class="token comment"># Imprimir o data frame</span>
print<span class="token punctuation">(</span>df_f1<span class="token punctuation">)</span>

<span class="token comment"># Identificar o melhor modelo</span>
melhor_modelo <span class="token operator">&lt;-</span> df_f1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Modelo"</span><span class="token punctuation">]</span>
cat<span class="token punctuation">(</span><span class="token string">"\nO melhor modelo é:"</span><span class="token punctuation">,</span> melhor_modelo<span class="token punctuation">,</span> <span class="token string">"\n"</span><span class="token punctuation">)</span>
</code></pre><p>← saída</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>          Modelo  F1_Score
2            SVM 0.9857143
1  Random Forest 0.9822294
8            SVM 0.9785714
7  Random Forest 0.9759230
3            RNA 0.9357143
9            RNA 0.9160839
6            RNA 0.9078947
5            SVM 0.9022556
12           RNA 0.8791946
11           SVM 0.8735632
4  Random Forest 0.7659574
10 Random Forest 0.6694915
16 Random Forest 0.1774308
13 Random Forest       NaN
14           SVM       NaN
15           RNA       NaN
17           SVM       NaN
18           RNA       NaN

O melhor modelo é: SVM
</code></pre>
      </div>
      
      
    
    
    
    
    
    
  
    </body></html>